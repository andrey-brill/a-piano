!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){t.exports={keyboardKey:"ShkOeOXGlCN40J6j0CwIT",black:"_3yMmUFC392-wb4KrjdT5Qq",white:"_26Etg0hK665_72SDGfArN7",key:"_3MEnyDT1_bneALM0aP6Dwp",shadow:"YNJT_YiKFHkT5mkdnHWNo",glance:"_2Si9xsucR4A62SRnPn_D9v",container:"_2ii13kI1l_nLWosrjptpMW",pressed:"WU8U1UaCLH24UNNiC0Ubi",disabled:"_2_VsZdBLkNVfxQCDmlKN7-"}},function(t,e,n){t.exports={container:"_2IPmN_0M6_GnrW1n2LRv2r",loading:"pzEjrpMediq_s7stZnXPp",content:"_3EPI0NPLfpviitvq42Nz7o","opacity-animation":"_2oMebxJCKyVrajEJufWAED",circleContainer:"_1DiXF7hhjOeZRSg-KIcC1t",circle:"_3muaZmB5T2ffil17_IIdou","scale-animation-1":"_1qAtXO97F-zO25NLSLSMFW","scale-animation-3":"_36x1ktfF73-gGtaxcVxjgP","scale-animation-2":"_3UA59t0oQTjHKCmrQS6dS9"}},function(t,e,n){t.exports={container:"_3HAJcXBadxmpFLDh-Cq1-W",logo:"_3tCYP0rWIgLgC1bm8Bp5U2",text:"_3yQb-va0hFTkWYIh8hWrVI",shadow:"xfnp-PzGf5aVlKrfsCHH"}},function(t,e,n){t.exports={octaves:"FOiJ0YErfiYWr3bug65_V",octave:"_1PK5IEzF0RgtZx6shHAMTe",shadow:"_1s8B57_ApmEE-xLFbQnNd2"}},function(t,e,n){t.exports={content:"_3fth6O1qLgSf4yW26C95Tl"}},function(t,e,n){t.exports={footer:"t5yOmAPUjWjpU_SpC12CL"}},function(t,e,n){},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chunks={}}var e,n,o;return e=t,(n=[{key:"get",value:function(t){if(!this.chunks[t])throw new Error('Chunk with name "'.concat(t,'" not initialized'));return this.chunks[t]}},{key:"put",value:function(t,e){if(this.chunks[t])throw new Error('Chunk with name "'.concat(t,'" already initialized in the bundle'));return this.chunks[t]=e,e}},{key:"remove",value:function(t){var e=this.chunks[t];return delete this.chunks[t],e}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),c(this,"modules",{}),this.putAll(e)}var e,n,r;return e=t,r=[{key:"fromUmd",value:function(e){if(!e||!e.default)throw new Error("UMD is undefined or doesn't export modules as 'default' property.");return new t(e.default)}}],(n=[{key:"get",value:function(t){var e=this.modules[t];if(!e)throw new Error('Module with name "'.concat(t,'" not initialized'));return e}},{key:"put",value:function(t,e){if(this.modules[t])throw new Error('Module with name "'.concat(t,'" already initialized'));return this.modules[t]=e,e}},{key:"putAll",value:function(t){for(var e in t)t.hasOwnProperty(e)&&this.put(e,t[e])}},{key:"remove",value:function(t){var e=this.modules[t];return delete this.modules[t],e}},{key:"replace",value:function(t,e){return this.remove(t),this.put(t,e)}}])&&a(e.prototype,n),r&&a(e,r),t}(),s=new o,l=u.fromUmd(window.Modules);s.put("a-piano",l);var f=s.get("a-piano"),h=f.get("react"),y=f.get("react-dom"),p=f.get("tone"),d=f.get("a-responsive-react"),v=f.get("a-responsive-containers"),b=n(2),m=n.n(b),g=function(t){var e=t.className;return h.createElement("svg",{className:e,width:"100%",viewBox:"0 0 446 90",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M108.8,43.9l11.1-0.2c2.8,0,4.1,0.2,4.1,0.6c0,1-5.6,1.9-16.8,2.6c-7.1,13.9-10.7,23.4-10.7,28.4c0,3.5,1.1,5.3,3.3,5.3c0.8,0,1.9-0.5,3.2-1.5c1.3-1,2-1.5,2.3-1.5c0.3,0,0.4,0.2,0.4,0.6c-0.4,1.4-1.6,2.5-3.5,3.4s-3.6,1.4-4.9,1.4c-1.3,0-2.4-0.1-3.2-0.2c-1.8-0.7-2.8-2.9-2.8-6.6c0-7.7,2.9-17.5,8.8-29.4l-13.8,0.3c-10.3,10-20.6,18.8-30.9,26.3C40.1,84.4,28,90,19.3,90c-0.5,0-1.1,0-1.6-0.1C5.9,88.9,0,82.9,0,71.8C0,65.2,2.1,58.3,6.2,51c5.5-9.8,13.1-18.1,22.6-25C38.4,19,47,15.6,54.6,15.6s11.4,2.8,11.4,8.4c0,3.7-1.1,7.9-3.4,12.5s-4.6,7.5-7,8.7c-0.2,0.1-0.5,0.1-0.7,0.1c-0.3,0-0.4-0.1-0.4-0.2l3.8-6.2c2.6-4,3.9-7.6,3.9-10.6s-0.7-5.5-2-7.4c-1.3-1.9-3.5-2.8-6.4-2.8c-6,0-13.1,3.3-21.4,10c-8.3,6.6-14.6,14.8-19,24.5c-4.3,9.7-6.5,17.3-6.5,22.7c0,8.2,4.2,12.3,12.5,12.3c8,0,18.8-5.1,32.4-15.3c6.1-4.5,15.9-13,29.5-25.5c-2.7,0.2-5.2,0.4-7.5,0.8c-4.9,0.9-7.2,0.8-6.9-0.5c0.3-2.8,1.8-4.2,4.4-4.2c5.1,0.6,9.3,0.9,12.8,0.9c6.6-6,16.4-15.9,29.5-29.7C122.3,4.6,127.7,0,129.6,0c0.8,0,1.3,0.6,1.3,1.9c0,1.3-0.3,3.3-1,6.1c-0.7,2.7-1.5,4.4-2.3,5c-1.8,1.2-3.4,2.9-4.9,5c-1.5,2.1-3.7,6-6.5,11.8C113.2,35.6,110.8,40.3,108.8,43.9z M118,15.9L88.6,43.4h6.8c1.6,0.1,3.6,0.1,6,0.1C103.6,39.2,109.1,30,118,15.9z"}),h.createElement("path",{d:"M135.1,70.5c1,0.8,1.6,1.6,1.6,2.6c0,1-0.5,1.8-1.4,2.5c-1,0.7-2,1.1-3.2,1.1c-1.1,0-2.2-0.4-3.2-1.2c-1-0.8-1.4-1.7-1.4-2.8c0-2.2,1.5-3.3,4.4-3.3C132.9,69.4,134,69.8,135.1,70.5z"}),h.createElement("path",{d:"M303.4,25.4c0,3.9-2,8.2-5.9,12.8c-3.9,4.7-9.8,8.4-17.8,11.3c-7.9,2.9-15.6,4.4-23.1,4.4c-7.5,0-13.4-1-17.8-2.9c-9.7,14.1-15.9,22.6-18.8,25.5C211.9,84.8,202,89,190.5,89c-6.5,0-11.4-1.5-14.6-4.5c-3.3-3-4.9-6.9-4.9-11.7c0-6.6,2.7-12.9,8-18.8c5.9-6.5,13.3-9.7,22.3-9.7c3.7,0,6.8,0.8,9.3,2.5c2.5,1.7,3.8,4.2,3.8,7.7c0,2.3-1.3,5-3.9,8.2s-4.2,4.8-4.8,4.8c-0.2,0-0.2-0.2-0.2-0.5c0-0.3,0.1-0.6,0.3-0.9c2.5-3.6,3.7-6.9,3.7-9.9c0-3-0.9-5.3-2.8-7c-1.9-1.6-4.2-2.5-7-2.5c-6.4,0-12.1,2.9-17.1,8.8s-7.4,11.7-7.4,17.7c0,3.8,1.2,6.9,3.6,9.3c2.4,2.4,6.1,3.5,11.2,3.5c9.4,0,17.5-3.2,24.2-9.5c3.9-3.7,7.9-9,11.8-16l10-18c4.9-7.9,10.6-19.5,17.1-35c-0.7,0-1.4,0-2.1,0c-10.3,0-20.7,1.1-31.1,3.4c-10.4,2.3-18.3,5.5-23.7,9.7c-2.3,1.8-3.4,3.5-3.4,5.2c0,1.7,0.9,3,2.7,4.1c1.8,1,3.9,1.5,6.4,1.5c2.5,0,5.5-0.5,9.1-1.4c3.6-1,6.4-2.2,8.2-3.8c0.8-0.6,1.3-0.9,1.6-0.9c0.6,0,0.7,0.3,0.3,0.9c-2.8,3.2-6.9,5.6-12.5,7.2c-3.4,1-6.9,1.5-10.2,1.5c-3.4,0-6.1-0.7-8.3-2.2c-2.1-1.5-3.2-3.5-3.2-6.1c0-2.6,1.4-5.1,4.1-7.7c5.2-5,14.5-8.8,27.9-11.2c9.5-1.7,20.4-2.5,32.7-2.5c1,0,2,0,3.1,0c1.7-1.4,3.2-2.2,4.6-2.2c1.4,0,2.1,0.5,2.1,1.6c0,0.2,0,0.5-0.1,0.8c11.9,0.8,21.5,2.8,28.8,6C299.1,14.8,303.4,19.5,303.4,25.4z M298,24.3c0-4.8-3.9-8.7-11.7-11.8c-6.8-2.7-15.4-4.3-25.6-4.8L257,19.1c-2.9,7.2-8.5,17.2-16.8,30c0.8,0.4,2.1,0.8,3.9,1.3c3.1,0.5,5.4,0.8,7.1,0.8c5.8,0,12.5-1.2,20.1-3.6c7.6-2.4,13.9-5.9,19-10.5C295.5,32.4,298,28.2,298,24.3z"}),h.createElement("path",{d:"M291.6,77.9c-3.9,0-5.9-2.5-5.9-7.6c0-4.1,2.3-9.8,6.8-17.1c4.5-7.3,8.2-11,10.9-11c0.8,0,1.6,0.3,2.6,0.9c1,0.6,1.4,1.2,1.4,1.8c-0.4,0.5-0.8,1.1-1.4,1.8c-0.5,0.6-1.1,1.4-1.7,2.1c-0.6,0.8-1.5,1.9-2.5,3.3c-1.1,1.4-2.1,2.8-3.1,4.1c-5.7,7.4-8.6,12.5-8.6,15.3c0,2.8,1,4.2,2.9,4.2c1.6,0,3.8-0.9,6.5-2.6c6.4-4,11.5-8.3,15.3-13.1c1.4-1.8,2.3-2.6,2.8-2.6c0.5,0,0.7,0.3,0.7,0.9c0,0.6-0.9,1.8-2.6,3.7c-1.8,1.8-3.2,3.3-4.2,4.4c-1,1.1-1.7,1.8-2.1,2.1c-0.4,0.3-1.1,1-2.1,1.9c-1,1-1.8,1.6-2.4,2c-0.5,0.4-1.3,1-2.3,1.7c-1,0.8-1.9,1.3-2.6,1.7s-1.6,0.7-2.6,1.2C295.7,77.5,293.8,77.9,291.6,77.9z M315.7,31c1,0.7,1.6,1.6,1.6,2.6c0,1-0.5,1.9-1.4,2.6c-1,0.7-2,1.1-3.2,1.1c-1.1,0-2.2-0.4-3.2-1.3c-1-0.8-1.4-1.8-1.4-2.9c0-2.1,1.5-3.2,4.4-3.2C313.5,29.9,314.6,30.2,315.7,31z"}),h.createElement("path",{d:"M351.7,42.4l1.6-0.3c0.8,0,1.6,0.3,2.4,1c0.8,0.7,1.1,1.2,1.1,1.6c0,0.4-2.4,4.1-7.1,11c-4.7,7-7.1,11.9-7.1,14.6c0,0.2,0,0.5,0.1,0.7c0.4,1.8,1.2,2.6,2.5,2.6c4,0,11.3-6.6,21.8-19.7c0.2-0.3,0.5-0.5,0.8-0.5c0.3,0,0.5,0.3,0.5,0.9c0,0.6-0.3,1.3-1,2.2c-9.8,13.1-17.3,19.6-22.4,19.6c-0.7,0-1.3-0.1-2-0.3c-3.4-1.3-5.1-3.8-5.1-7.6c0-1.3,0.2-2.6,0.5-3.9l-7.1,6.9c-4.5,4-7.8,6-9.8,6c-2,0-4-0.6-5.8-1.9c-2.1-1.5-3.1-3.5-3.1-6.1c0-5.6,3.9-12.2,11.7-20c7.8-7.7,15-11.6,21.5-11.6c2.5,0,4.2,0.9,5.1,2.6c0.2,0.6,0.4,1.1,0.6,1.5C351.5,42.2,351.6,42.4,351.7,42.4z M317.3,70.5c0,2.7,1,4.1,2.9,4.1c4.4,0,10.5-4.8,18.2-14.5l12.2-16.7c-0.6-1.1-1.6-1.6-3-1.6c-4.7,0-10.9,3.6-18.6,10.8S317.3,65.8,317.3,70.5z"}),h.createElement("path",{d:"M379.2,40.4c2.1,0,3.1,0.8,3.1,2.4c0,0.5-0.1,0.9-0.3,1.4c-6.9,9.5-11,16.8-12.4,21.6c17.8-17.8,28.7-26.7,32.5-26.7c0.4-0.1,0.7-0.1,1-0.1c2.1,0,3.2,1,3.2,2.9c0,0.4-0.1,0.8-0.2,1.1c-0.2,0.4-1.7,2.4-4.6,6.2c-3.4,4-6.2,7.8-8.6,11.5c-2.3,3.7-3.5,6.7-3.5,9.2c0,2.4,0.5,3.7,1.6,3.7c3.4,0,9.2-4.6,17.6-13.9c0.2-0.2,0.4-0.5,0.8-1c1.1-1.4,1.8-2.1,2.1-2.1s0.3,0.4,0.3,1.1c0,0.8-0.5,1.8-1.6,3C400.8,71.5,394,76.8,390,76.8c-3.8,0-5.6-2.1-5.6-6.2c0-4.1,1.5-8.9,4.6-14.2l7.4-11.9c-5.2,3.8-9.8,8-13.9,12.5c-4.1,4.5-7.8,9-11.1,13.2c-3.3,4.3-5.3,6.4-5.8,6.4c-1.1,0-2.1-0.5-2.7-1.4c-0.7-1-1-2.1-1-3.5c0-1.4,0.5-3.3,1.5-5.7c1-2.4,2.3-5.2,3.8-8.6l-6.9,7.2c-1.7,1.7-2.7,2.5-3.2,2.5c-0.4,0-0.6-0.2-0.6-0.7c0-0.5,0.3-1,0.9-1.7c2.8-2.8,5.3-5.5,7.4-8.1c2-2.6,6.1-7.6,12.3-14.9C377.8,40.9,378.5,40.4,379.2,40.4z"}),h.createElement("path",{d:"M437,52.3c0,2.7-2.6,7.1-7.7,13.4c-6.1,7.4-11.2,11.1-15.5,11.1H412c-2,0-3.6-1-4.7-3.1c-0.9-1.4-1.4-3.1-1.4-4.8c0-4.6,3.4-11,10.1-19.3s12.1-12.4,16.3-12.4c3.9,0,5.9,2.1,5.9,6.2c0,1.1-0.2,2.4-0.6,4.1c0.1,0.2,0.8,0.3,2.2,0.3c1.4,0,3.5-0.7,6.3-2.2c-0.1,1.3-3.1,3.2-9.1,5.6C437,51.6,437,51.9,437,52.3z M429.6,46.4c-2.6,0-6.3,3.1-11.1,9.2c-4.8,6.1-7.2,10.6-7.2,13.5c0,2.9,0.9,4.4,2.8,4.4c3.3,0,7.5-3,12.5-8.9c5.1-6,7.6-10.2,7.6-12.8C432.9,51,431.4,49.2,429.6,46.4z"}))},w=function(){return h.createElement("div",{className:m.a.container},h.createElement("div",{className:m.a.logo},h.createElement(g,{className:m.a.shadow}),h.createElement(g,{className:m.a.text})))},k=["Expand","Shrink","ShiftLeft","ShiftRight"];function S(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O(t){return{width:t,minWidth:t,maxWidth:t}}function C(t){return{height:t,minHeight:t,maxHeight:t}}function A(t,e,n){return Math.max(e,Math.min(n,t))}function j(t){if(!t)return null;var e=t.closest(".touchable-key");return e?e.getAttribute("name"):null}function K(t,e){var n,r={},o=S(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(r[i[e]])throw new Error("Not unique property: "+i[e]);r[i[e]]=i}}catch(t){o.e(t)}finally{o.f()}return r}function x(t,e){return isNaN(t)?e:t}var P=n(4),_=n.n(P),I=function(t){var e=t.width,n=t.children;return h.createElement("div",{className:_.a.content,style:O(e)},n)},T={padding:0,radius:0},V=function(t){var e=t.className,n=t.name,r=t.title,o=t.left,i=t.top,a=t.width,c=t.height,u=t.radius,s=t.children,l=t.bounds,f=void 0===l?T:l;return h.createElement("div",{className:e,name:n,title:r,style:{position:"absolute",left:x(o,f.padding),top:x(i,f.padding),width:x(a,f.width),height:x(c,f.height),borderRadius:x(u,f.radius)}},s)},R=function(t){var e=t.className,n=t.bounds,r=t.left,o=t.width;return h.createElement(V,{className:e,bounds:n,left:r,top:n.padding+n.height-2*n.radius,width:o,height:3*n.radius})};function M(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var B=function(){function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(t){return i.listeners.push(t),function(){i.listeners=i.listeners.filter((function(e){return e!==t}))}},(r="onChange")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.state=Object.assign({},e),this.listeners=[]}var e,n,r;return e=t,(n=[{key:"has",value:function(t){return!!this.state[t]}},{key:"get",value:function(t){var e=this.state[t];if(void 0===e)throw new Error("Unknown state property: "+t);return e}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.get(t)!==e&&(this.state[t]=e,n||this.triggerChange(t)),e}},{key:"apply",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.get(t);o[e]!==n&&(o[e]=n,r||this.triggerChange(t))}},{key:"triggerChange",value:function(t){var e,n=this.get(t),r=M(this.listeners);try{for(r.s();!(e=r.n()).done;)(0,e.value)(t,n)}catch(t){r.e(t)}finally{r.f()}}}])&&D(e.prototype,n),r&&D(e,r),t}();function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function F(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=H(e);if(F()){var r=H(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return U(this,t)});function a(){return z(this,a),i.apply(this,arguments)}return n=a,(r=[{key:"disabled",value:function(t,e){this.apply(t,"disabled",e)}},{key:"pressed",value:function(t,e){this.apply(t,"pressed",e)}}])&&L(n.prototype,r),o&&L(n,o),a}(B);function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return X(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=tt(e);if(Z()){var r=tt(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return J(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var e=function(){var t="C,D,E,F,G,A,B".split(","),e="-,C#,D#,-,F#,G#,A#".split(","),n="C#,D#,-,F#,G#,A#,-".split(",");function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign({letter:t[0],octave:t[t.length-1],name:t,white:e,black:!e,pressed:!1,disabled:!1},n)}var o=0;function i(i,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=t[i],s=e[i],l=n[i];return r(u+a,!0,Object.assign({whiteIndex:o++,flat:"-"===s?null:s+a,sharp:"-"===l?null:l+a},c))}function a(t){return r(t.sharp,!1,{whiteIndex:t.whiteIndex})}for(var c=i(5,0),u=a(c),s=i(6,0),l=[c,u,s],f=Math.floor(52/7),h=1;h<=f;h++)for(var y=0;y<t.length;y++){var p=i(y,h);l.push(p),p.sharp&&l.push(a(p))}return l.push(i(0,8)),l}();if((t=i.call(this,K(e,"name"))).notes=e,88!==t.notes.length)throw new Error("WTF?");return t}return n=a,(r=[{key:"resolveVisible",value:function(t,e){var n,r=t.from-e.from,o=e.to-t.to,i=Math.max(r,o)-r,a=this.filter((function(t){return e.from<=t.whiteIndex&&(t.whiteIndex<e.to||t.whiteIndex===e.to&&t.white)})),c=void 0,u=0,s=Y(a);try{for(s.s();!(n=s.n()).done;){var l=n.value;l.white?(l.index=u,l.isLast=!1,l.isFirst=0===u,u++,c=l):l.black&&(l.index=u-1)}}catch(t){s.e(t)}finally{s.f()}return c.isLast=!0,{visibleOffsetX:i,visibleNotes:a,visibleOctaves:it(a)}}},{key:"filter",value:function(t){return this.notes.filter(t)}}])&&$(n.prototype,r),o&&$(n,o),a}(Q);var rt,ot={1:"I",2:"II",3:"III",4:"IV",5:"V",6:"VI",7:"VII",8:"VIII"};function it(t){var e,n={},r=Y(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o.white){var i=n[o.octave];i||(i=n[o.octave]={octave:o.octave,name:ot[o.octave]||"",index:o.index,length:0}),i.length+=1}}}catch(t){r.e(t)}finally{r.f()}var a=Object.keys(n);return a.sort(),a.map((function(t){return n[t]}))}function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ht=(ft(rt={},"VisibleKeysInterval",null),ft(rt,"Sizes",null),ft(rt,"IsMobile",null),ft(rt,"NumberOfMinimumVisibleKeys",null),ft(rt,"ContentKeysInterval",null),rt),yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(r,t);var e,n=(e=r,function(){var t,n=st(e);if(ut()){var r=st(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return ct(this,t)});function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,ht)}return r}(B);function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var dt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=document.createElement("audio");e.controls=!1,e.preload="auto",e.loop=!0,e.src="data:audio/mp3;base64,//MkxAAHiAICWABElBeKPL/RANb2w+yiT1g/gTok//lP/W/l3h8QO/OCdCqCW2Cw//MkxAQHkAIWUAhEmAQXWUOFW2dxPu//9mr60ElY5sseQ+xxesmHKtZr7bsqqX2L//MkxAgFwAYiQAhEAC2hq22d3///9FTV6tA36JdgBJoOGgc+7qvqej5Zu7/7uI9l//MkxBQHAAYi8AhEAO193vt9KGOq+6qcT7hhfN5FTInmwk8RkqKImTM55pRQHQSq//MkxBsGkgoIAABHhTACIJLf99nVI///yuW1uBqWfEu7CgNPWGpUadBmZ////4sL//MkxCMHMAH9iABEmAsKioqKigsLCwtVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//MkxCkECAUYCAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",e.title="SilentAudio",e.style.opacity=0,this.audioElement=e}var e,n,r;return e=t,(n=[{key:"appendTo",value:function(t){t.appendChild(this.audioElement)}},{key:"tryToPlay",value:function(){if(this.audioElement.paused)try{this.audioElement.play().catch(this.onSilentAudioFails)}catch(t){this.onSilentAudioFails(t)}}},{key:"onPlayFail",value:function(t){console.log("Can not play silent audio: "+t)}}])&&pt(e.prototype,n),r&&pt(e,r),t}();function vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mt=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),bt(this,"triggerAttack",(function(t){e.resumeContextOnTrigger("Attack",t)})),bt(this,"triggerRelease",(function(t){e.resumeContextOnTrigger("Release",t)}));for(var n={},r=0,o=["A0","C1","D#1","F#1","A1","C2","D#2","F#2","A2","C3","D#3","F#3","A3","C4","D#4","F#4","A4","C5","D#5","F#5","A5","C6","D#6","F#6","A6","C7","D#7","F#7","A7","C8"];r<o.length;r++){var i=o[r];n[i]="c"+i.replace("#","s")+".mp3"}this.tones=n,this.audioElement=new dt}var e,n,r;return e=t,(n=[{key:"initialize",value:function(t){this.audioElement.appendTo(document.body),this.piano=new p.Sampler(this.tones,{attack:0,release:.75,curve:"exponential",baseUrl:"./assets/audio/",onload:t}).toMaster()}},{key:"resumeContextOnTrigger",value:function(t,e){var n=this;this.audioElement.tryToPlay(),this.piano.loaded&&("suspended"!==p.context.state?this.piano["trigger"+t](e):p.context.resume().then((function(){n.resumeContextOnTrigger(t,e)})))}}])&&vt(e.prototype,n),r&&vt(e,r),t}();function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wt=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.notes=n,this.tones=e,this.controlKeys=r,this.states={},this.soft=!1,this.controllers={}}var e,n,r;return e=t,(n=[{key:"attackKey",value:function(t,e){if(null==t)throw new Error("ControllerId is undefined");var n=this.controllers[t];n&&n!==e&&(this.controlKeys.has(n)?this.controlKeys.pressed(n,!1):this.triggerRelease(n)),e?(this.controllers[t]=e,this.controlKeys.has(e)?this.controlKeys.pressed(e,!0):this.triggerAttack(e)):n&&delete this.controllers[t]}},{key:"releaseKey",value:function(t){this.attackKey(t,null)}},{key:"togglePedal",value:function(t){t?this.pedalAttack():this.pedalRelease()}},{key:"pedalAttack",value:function(){this.soft=!0}},{key:"pedalRelease",value:function(){if(this.soft)for(var t in this.soft=!1,this.states)2===this.states[t]&&this.triggerRelease(t)}},{key:"triggerAttack",value:function(t){1!==this.states[t]&&(this.states[t]=1,this.tones.triggerAttack(t),this.notes.pressed(t,!0))}},{key:"triggerRelease",value:function(t){var e=this.soft?2:0;this.states[t]!==e&&(this.soft?this.states[t]=2:(this.states[t]=0,this.tones.triggerRelease(t)),this.notes.pressed(t,!1))}}])&&gt(e.prototype,n),r&&gt(e,r),t}();function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Et=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),St(this,"onTouchStart",(function(t){n.countTouches=t.touches.length})),St(this,"onTouchEnd",(function(t){var e=t.touches.length;setTimeout((function(){n.countTouches=e}),10)})),St(this,"onDown",(function(t){0===t.button&&0===n.countTouches&&(n.mouseDown=!0,n.attack())})),St(this,"onMove",(function(t){n.currentKey=j(t.target),n.mouseDown&&n.attack()})),St(this,"onUp",(function(){n.mouseDown=!1,n.piano.releaseKey("mouse")})),this.piano=e,this.mouseDown=!1,this.currentKey=null,window.addEventListener("mousedown",this.onDown),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onUp),this.countTouches=0,window.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchend",this.onTouchEnd)}var e,n,r;return e=t,(n=[{key:"attack",value:function(){this.piano.attackKey("mouse",this.currentKey)}}])&&kt(e.prototype,n),r&&kt(e,r),t}();function Ot(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),jt(this,"onTouchMove",(function(t){t.preventDefault();var e,r=Ot(t.changedTouches);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.identifier,a=o.clientX,c=o.clientY,u=document.elementFromPoint(a,c);n.onTouch(i,u)}}catch(t){r.e(t)}finally{r.f()}})),jt(this,"onTouchStart",(function(t){t.preventDefault();var e,r=Ot(t.touches);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.identifier,a=o.target;n.onTouch(i,a)}}catch(t){r.e(t)}finally{r.f()}})),jt(this,"onTouchEnd",(function(t){t.preventDefault();var e,r=new Set,o=Ot(t.touches);try{for(o.s();!(e=o.n()).done;){var i=e.value;r.add(i.identifier)}}catch(t){o.e(t)}finally{o.f()}n.activeTouches.forEach((function(t){r.has(t)||n.piano.releaseKey(t)})),n.activeTouches=r})),this.piano=e,this.activeTouches=new Set,document.body.style.touchAction="manipulation",window.addEventListener("touchstart",this.onTouchStart),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd)}var e,n,r;return e=t,(n=[{key:"onTouch",value:function(t,e){var n=j(e);this.activeTouches.add(t),this.piano.attackKey(t,n)}}])&&At(e.prototype,n),r&&At(e,r),t}();function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e){return!e||"object"!==xt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function It(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e){return(Vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vt(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Tt(e);if(It()){var r=Tt(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _t(this,t)});function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var n=function(){for(var t=[],e=["Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],n=["1","2","3","4","5","6","7","8","9","0","-","=","Back"],r=0;r<e.length;r++)t.push({name:"b0"+r,index:r,code:e[r],alias:n[r],white:!1,black:!0,pressed:!1,disabled:!0});for(var o=["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Enter"],i=["Tab","Q","W","E","R","T","Y","U","I","O","P","[","]","Enter"],a=0;a<o.length;a++)t.push({name:"w1"+a,index:a,code:o[a],alias:i[a],white:!0,black:!1,pressed:!1,disabled:!0,flat:e[a-1]?"b0"+(a-1):null,sharp:e[a]?"b0"+a:null});return t}();return(e=i.call(this,K(n,"name"))).keys=n,e.keysByCode=K(n,"code"),e.notes=t,e}return n=a,(r=[{key:"getNameByCode",value:function(t){var e=this.keysByCode[t];return e?e.name:null}},{key:"getToneByCode",value:function(t){var e=this.keysByCode[t];if(e&&!e.disabled){var n=e.tone;if(n)return n;throw new Error("Unknown tone for code: "+t)}return null}},{key:"resolveNotesBinding",value:function(t){for(var e=this.notes.filter((function(e){return e.whiteIndex>=t.from&&e.white})),n=this.keys.filter((function(t){return t.white})),r=0;r<n.length;r++){var o=n[r],i=e[r];if(i){if(o.tone=i.name,this.disabled(o.name,!1),o.sharp)if(i.sharp){var a=this.get(o.sharp);a.tone=i.sharp,this.disabled(a.name,!1)}else this.disabled(o.sharp,!0)}else this.disabled(o.name,!0),o.sharp&&this.disabled(o.sharp,!0)}}},{key:"resolveVisibleKeys",value:function(t){for(var e=t.length,n=function(t,e){return{name:void 0,white:t,black:!t,index:e,disabled:!0,code:"",pressed:!1,alias:""}},r=this.keys.filter((function(t){return t.white})),o=[],i=0,a=Math.min(e,r.length),c=0;c<a;c++){var u=r[c];o.push(u),i++,c+1!==a&&u.sharp&&o.push(this.get(u.sharp))}for(;i<e;)o.push(n(!1,i-1)),o.push(n(!0,i)),i++;return o}}])&&Pt(n.prototype,r),o&&Pt(n,o),a}(Q);function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zt(t,e){return(zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zt(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Wt(e);if(Bt()){var r=Wt(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Dt(this,t)});function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var e=[];function n(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.push(Object.assign({name:t,alias:n,title:r,pressed:!1,disabled:!1},o))}function r(t,e,r,o){n(t,e,r,{intervalAction:t,length:1,resolveIndex:o})}return n("Pedal","Pedal","Soft pedal",{length:2,index:0}),r("ShiftLeft","<","Shift to left piano keyboard",(function(t){return Ut(t,!0)})),r("ShiftRight",">","Shift to right piano keyboard",(function(t){return Ut(t,!1)})),r("Shrink","-","Shrink piano keyboard",(function(t){return t-2})),r("Expand","+","Expand piano keyboard",(function(t){return t-1})),(t=i.call(this,K(e,"name"))).controls=e,t}return n=a,(r=[{key:"forEach",value:function(t){this.controls.forEach(t)}},{key:"map",value:function(t){return this.controls.map(t)}},{key:"resolveKeyIndexes",value:function(t){this.forEach((function(e){e.resolveIndex&&(e.index=e.resolveIndex(t))}))}}])&&Nt(n.prototype,r),o&&Nt(n,o),a}(Q);function Ut(t,e){if(t%2==0){var n=t/2;return e?n-1:n}var r=(t-1)/2;return e?r-1:r+1}function Ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ht=function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ft(this,"onKeyDown",(function(t){var e=t.code;if(e){var n=o.keyboardKeys.getNameByCode(e);if(n&&(t.preventDefault(),!o.pressedKeys[e])){var r=o.keyboardKeys.getToneByCode(e);r&&(o.pressedKeys[e]={tone:r,name:n},o.piano.triggerAttack(r),o.keyboardKeys.pressed(n,!0))}}})),Ft(this,"onKeyUp",(function(t){var e=t.code,n=o.pressedKeys[e];n&&(t.preventDefault(),o.piano.triggerRelease(n.tone),o.keyboardKeys.pressed(n.name,!1),delete o.pressedKeys[e])})),this.piano=e,this.keyboardKeys=n,this.pressedKeys={},window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),r.onChange((function(t){if("ContentKeysInterval"===t||"VisibleKeysInterval"===t){var e=r.get("ContentKeysInterval");n.resolveNotesBinding(e)}}))};function qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qt={ShiftLeft:"Pedal",NumpadAdd:"Expand",NumpadSubtract:"Shrink",ArrowLeft:"ShiftLeft",ArrowRight:"ShiftRight"},Gt=function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qt(this,"onSettingsChange",(function(){var t=o.settings.get("ContentKeysInterval"),e=o.settings.get("NumberOfMinimumVisibleKeys"),n=o.settings.get("IsMobile");o.controlKeys.forEach((function(r){if(r.intervalAction){var i=!t.can(r.intervalAction);n&&"Shrink"===r.name&&!i&&(i=t.length<=e),o.controlKeys.disabled(r.name,i)}}))})),qt(this,"onKeyDown",(function(t){var e=Qt[t.code];e&&o.controlKeys.pressed(e,!0)})),qt(this,"onPressed",(function(t,e){var n=e.pressed,r=e.disabled,i=e.intervalAction;if("Pedal"===t)o.piano.togglePedal(n);else if(o.intervalActions.has(t)&&n&&!r){var a=o.settings.get("ContentKeysInterval").run(i);a&&o.settings.set("ContentKeysInterval",a)}})),qt(this,"onKeyUp",(function(t){var e=Qt[t.code];e&&o.controlKeys.pressed(e,!1)})),this.piano=e,this.controlKeys=n,this.settings=r,window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this.intervalActions=new Set(k),this.controlKeys.onChange(this.onPressed),this.settings.onChange(this.onSettingsChange)},Yt=void 0;function Xt(){if(Yt)return Yt;var t=new nt,e=new Rt(t),n=new Lt,r=new yt,o=new mt,i=new wt(o,t,n),a=new Et(i),c=new Kt(i),u=new Ht(i,e,r),s=new Gt(i,n,r);return window.focus(),Yt={notes:t,keyboardKeys:e,controlKeys:n,settings:r,tones:o,piano:i,pianoMouse:a,pianoTouches:c,pianoKeyboard:u,pianoControls:s}}var $t=h.createContext({}),Jt=function(t){var e=t.children;return h.createElement($t.Provider,{value:Xt()},e)},Zt=n(0),te=n.n(Zt);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oe(t,e,n){return e&&re(t.prototype,e),n&&re(t,n),t}function ie(t){return function(){var e,n=se(t);if(ue()){var r=se(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ae(this,e)}}function ae(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?ce(t):e}function ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ue(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function le(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye=function(t){le(n,t);var e=ie(n);function n(){var t;ne(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return he(ce(t=e.call.apply(e,[this].concat(o))),"state",{pressed:!1,disabled:!1}),t}return oe(n,[{key:"render",value:function(){var t=this.props,e=t.name,n=t.offset,r=t.className,o=t.children,i=t.touchable,a=[te.a.container];return r&&a.push(r),i&&a.push("touchable-key"),this.state.pressed&&a.push(te.a.pressed),this.state.disabled&&a.push(te.a.disabled),h.createElement(V,{name:e,left:n.left,top:n.top,className:a.join(" ")},o)}},{key:"setKeyState",value:function(t){this.setState({pressed:t.pressed,disabled:t.disabled})}},{key:"listenKeys",value:function(t){var e=this,n=this.props.name;n&&(this.unsubscribe=t.onChange((function(t,r){t===n&&e.setKeyState(r)})),this.setKeyState(t.get(n)))}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}}]),n}(h.Component);he(ye,"contextType",$t);var pe=function(t){le(n,t);var e=ie(n);function n(){return ne(this,n),e.apply(this,arguments)}return oe(n,[{key:"componentDidMount",value:function(){this.listenKeys(this.context.notes)}}]),n}(ye),de=function(t){le(n,t);var e=ie(n);function n(){return ne(this,n),e.apply(this,arguments)}return oe(n,[{key:"componentDidMount",value:function(){this.listenKeys(this.context.keyboardKeys)}}]),n}(ye),ve=function(t){le(n,t);var e=ie(n);function n(){return ne(this,n),e.apply(this,arguments)}return oe(n,[{key:"componentDidMount",value:function(){this.listenKeys(this.context.controlKeys)}}]),n}(ye),be=function(t){var e=t.note,n=t.offset,r=t.bounds,o=r.whiteKeyOuterWidth,i=r.leftOffsets,a=r.topHeight,c=i[e.letter],u={left:n.left+e.index*o+c,top:n.top};return h.createElement(pe,{name:e.name,className:te.a.black,offset:u,touchable:!0},h.createElement(R,{className:te.a.shadow,bounds:r}),h.createElement(V,{className:te.a.glance,bounds:r}),h.createElement(V,{className:te.a.key,bounds:r,height:a}))};function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ge=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=[]}var e,n,r;return e=t,(n=[{key:"push",value:function(t){return this.data.push(t),this}},{key:"M",value:function(t,e){return this.push("M".concat(t,",").concat(e))}},{key:"v",value:function(t){return this.push("v".concat(t))}},{key:"h",value:function(t){return this.push("h".concat(t))}},{key:"a",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.abs(t);return this.push("a ".concat(r," ").concat(r," 0 0 ").concat(n," ").concat(t,",").concat(e))}},{key:"close",value:function(){return this.push("z")}},{key:"build",value:function(){return this.data.join(" ")}}])&&me(e.prototype,n),r&&me(e,r),t}();function we(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ke(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Se=function(t){var e,n,r=t.note,o=t.offset,i=t.bounds,a=i.outerWidth,c=i.outerHeight,u={left:o.left+r.index*a,top:o.top};return h.createElement(pe,{name:r.name,className:te.a.white,offset:u,touchable:!0},h.createElement(R,{className:te.a.shadow,bounds:i}),h.createElement("svg",{viewBox:"0 0 ".concat(a," ").concat(c),style:(e=a,n=c,Object.assign(O(e),C(n))),xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{className:te.a.key,d:Ee(r,i)})))};function Ee(t,e){var n=e.height,r=e.width,o=e.padding,i=e.radius,a=e.cutoutHeight,c=e.unCutoutHeight,u=function(t,e,n){var r=we(n[t.letter],2),o=r[0],i=r[1];t.isFirst&&(o=0);t.isLast&&(i=0);return{wl:o,wc:e-o-i,wr:i}}(t,r,e.cutoutWidths),s=u.wl,l=u.wc,f=u.wr,h=2*i,y=i,p=(new ge).M(o,n+o-i).a(y,y).h(r-h).a(y,-y);return f>0?p.v(-c+h).a(-y,-y).h(-f+h).a(-y,-y,1).v(-a+h):p.v(-n+h),p.a(-y,-y).h(-l+h).a(-y,y),s>0?p.v(a-h).a(-y,y,1).h(-s+h).a(-y,y).v(c-h):p.v(n-h),p.close().build()}var Oe=function(t){var e=t.notes,n=t.offset,r=t.outerHeight,o=t.whiteKeyBounds,i=t.blackKeyBounds,a=Object.assign(C(r),{position:"relative"});return h.createElement("div",{style:a},e.map((function(t){return h.createElement(Ce,{key:t.name,note:t,offset:n,whiteKeyBounds:o,blackKeyBounds:i})})))},Ce=function(t){var e=t.note,n=t.offset,r=t.whiteKeyBounds,o=t.blackKeyBounds;return h.createElement(h.Fragment,null,e.white?h.createElement(Se,{note:e,offset:n,bounds:r}):h.createElement(be,{note:e,offset:n,bounds:o}))},Ae=n(3),je=n.n(Ae),Ke=function(t){var e=t.bounds,n=t.octaves,r=e.fontSize,o=e.outerHeight,i=Object.assign(C(o),{fontSize:r});return h.createElement("div",{className:je.a.octaves,style:i},n.map((function(t){var n=t.index,r=t.length,o=t.octave,i=t.name;return h.createElement(xe,{key:o,name:i,index:n,length:r,bounds:e})})))},xe=function(t){var e=t.index,n=t.length,r=t.name,o=t.bounds,i=o.padding,a=o.width,c=e*(2*i+a),u=n*a+2*i*(n-1);return h.createElement(V,{left:c},h.createElement(R,{className:je.a.shadow,width:u,bounds:o}),h.createElement(V,{className:je.a.octave,width:u,bounds:o},h.createElement("span",null,r)))};function Pe(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return _e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function _e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ie=function(t){var e=t.keyboardKey,n=t.offset,r=t.bounds,o=e.white?te.a.white:te.a.black,i={left:n.left+e.index*r.outerWidth,top:n.top};return h.createElement(de,{name:e.name,className:o,offset:i},h.createElement(R,{className:te.a.shadow,bounds:r}),h.createElement(V,{className:te.a.key+" "+te.a.keyboardKey,bounds:r},h.createElement("span",null,e.alias)))},Te=function(t){var e,n=t.offset,r=t.visibleNotes,o=h.useContext($t),i=o.settings,a=o.keyboardKeys,c=i.get("Sizes"),u=c.keyOuterWidth,s=c.keyOuterHeight,l=c.keyboardKeyBounds,f=i.get("ContentKeysInterval"),y=2*s,p=0,d=Pe(r);try{for(d.s();!(e=d.n()).done;){var v=e.value;if(v.whiteIndex===f.from)break;v.white&&(p+=u)}}catch(t){d.e(t)}finally{d.f()}var b=a.resolveVisibleKeys(f),m=Object.assign(C(y),{position:"relative",fontSize:l.fontSize,fontWeight:500}),g={left:n.left+p+.5*u,top:0},w={left:n.left+p,top:s};return h.createElement("div",{style:m},b.map((function(t,e){return h.createElement(Ie,{key:t.name||e,keyboardKey:t,offset:t.white?w:g,bounds:l})})))};function Ve(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Re(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Re(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Me=function(t){var e=t.controlKey,n=t.offset,r=t.bounds,o={left:n.left+e.index*r.outerWidth,top:n.top},i=Object.assign({},r,{width:e.length*r.width+2*(e.length-1)*r.padding});return h.createElement(ve,{name:e.name,className:te.a.white,offset:o,touchable:!0},h.createElement(R,{className:te.a.shadow,bounds:i}),h.createElement(V,{className:te.a.key+" "+te.a.keyboardKey,title:e.title,bounds:i},h.createElement("span",null,e.alias)))},Ne=function(t){var e,n=t.offset,r=t.visibleNotes,o=h.useContext($t),i=o.settings,a=o.controlKeys,c=i.get("Sizes"),u=c.keyOuterWidth,s=c.keyOuterHeight,l=c.keyboardKeyBounds,f=i.get("ContentKeysInterval"),y=0,p=Ve(r);try{for(p.s();!(e=p.n()).done;){var d=e.value;if(d.whiteIndex===f.from)break;d.white&&(y+=u)}}catch(t){p.e(t)}finally{p.f()}a.resolveKeyIndexes(f.length);var v=Object.assign(C(s),{position:"relative",fontSize:l.fontSize,fontWeight:500}),b={left:n.left+y,top:n.top};return h.createElement("div",{style:v},a.map((function(t){return h.createElement(Me,{key:t.name,controlKey:t,offset:b,bounds:l})})))};function De(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var We=function(){var t=h.useContext($t),e=t.settings,n=t.notes,r=De(h.useState(e.get("Sizes")),2),o=r[0],i=r[1],a=e.get("IsMobile");h.useEffect((function(){return e.onChange((function(t){"Sizes"===t&&i(e.get("Sizes"))}))}),[]);var c=o.pianoOuterSize,u=c.width,s=c.height,l=o.keyOuterWidth,f=o.whiteKeyBounds,y=o.blackKeyBounds,p=o.octaveBounds,d=n.resolveVisible(e.get("ContentKeysInterval"),e.get("VisibleKeysInterval")),v=d.visibleOffsetX,b=d.visibleNotes,m=d.visibleOctaves,g={left:v*l,top:0};return h.createElement(I,{width:u},h.createElement(Ke,{bounds:p,octaves:m}),h.createElement(Oe,{outerHeight:s,offset:g,notes:b,whiteKeyBounds:f,blackKeyBounds:y}),h.createElement(Ne,{offset:g,visibleNotes:b}),a?null:h.createElement(Te,{offset:g,visibleNotes:b}))};function ze(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fe=function(){function t(e,n){var r,o,i,a,c=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(t,e){var n=c[t+e];if(n)return n.call(c);throw new Error("Unknown interval action: "+e)},(o="callAction")in(r=this)?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,isNaN(e)||isNaN(e))throw new Error("Interval has invalid bounds: [".concat(e,", ").concat(n,"]"));this._from=A(e,0,51),this._to=A(n,0,51),this.length=(a=this._from,this._to-a+1);var u,s=ze(k);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(!this["can"+l])throw new Error("Unknown interval action: "+l)}}catch(t){s.e(t)}finally{s.f()}}var e,n,r;return e=t,(n=[{key:"can",value:function(t){return this.callAction("can",t)}},{key:"run",value:function(t){return this.callAction("run",t)}},{key:"canExpand",value:function(){return 0<this.from||this.to<51}},{key:"runExpand",value:function(){return this.to<51?new t(this.from,this.to+1):0<this.from?new t(this.from-1,this.to):null}},{key:"canShrink",value:function(){return this.length>8}},{key:"runShrink",value:function(){return this.canShrink()?new t(this.from,this.to-1):null}},{key:"canShiftLeft",value:function(){return this.to<51}},{key:"runShiftLeft",value:function(){return this.canShiftLeft()?new t(this.from+1,this.to+1):null}},{key:"canShiftRight",value:function(){return 0<this.from}},{key:"runShiftRight",value:function(){return this.canShiftRight()?new t(this.from-1,this.to-1):null}},{key:"from",get:function(){return this._from},set:function(t){throw new Error("Interval is immutable")}},{key:"to",get:function(){return this._to},set:function(t){throw new Error("Interval is immutable")}}])&&Ue(e.prototype,n),r&&Ue(e,r),t}();function He(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qe={C:18,D:26,F:18,G:22,A:26},Ge={C:[0,14],D:[6,6],E:[14,0],F:[0,14],G:[6,10],A:[10,6],B:[14,0]};function Ye(t,e,n,r){var o=Math.floor(n/r),i=Math.max(0,o-e-(t?0:2));return e+(i-i%2)}function Xe(t,e,n,r,o){var i,a,c,u=32*o;t?(i=e/u,a=(Math.min(n,e)-12*i)/235,i=e/(32*(c=Ye(t,o,e,32*(i=Math.min(i,a)))))):r*(u+64)<=e?i=a=e/(32*((c=Ye(t,o,e,32*r))+2)):(c=o,a=i=e/u);var s=32*i;return{pw:i,ph:a,keyOuterWidth:s,numberOfPossiblyVisibleKeys:c,numberOfVisibleKeys:Ye(t,o,e,s)}}var $e=function t(e,n,r){function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({radius:n(2),padding:n(1),width:n(30),height:r(30)},t)}!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=r(175),a=i*(110/175),c=i-a,u=n(30),s=n(32),l=r(30)+n(4),f={};for(var h in Qe)f[h]=Qe[h]*u/30;var y={};for(var p in Ge){var d=He(Ge[p],2),v=d[0],b=d[1];y[p]=[v*u/30,b*u/30]}var m=r(175)+n(4);Object.assign(this,{keyWidth:u,keyOuterWidth:s,keyOuterHeight:l,keyboardKeyBounds:o({outerWidth:s,fontSize:r(8)}),paddings:{X1:n(1),X2:2*n(1),X4:4*n(1)},octaveBounds:o({fontSize:r(13),outerHeight:l}),pianoOuterSize:{width:n(32*e),height:m},whiteKeyBounds:o({height:i,outerWidth:s,outerHeight:m,cutoutHeight:a,unCutoutHeight:c,cutoutWidths:y}),blackKeyBounds:o({width:n(18),height:r(106),topHeight:92*r(106)/106,whiteKeyOuterWidth:s,leftOffsets:f})})};function Je(t){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function en(t,e){return!e||"object"!==Je(e)&&"function"!=typeof e?nn(t):e}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function an(t,e){return(an=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var un=v.commonProperties({pWidth:"100w",pHeight:"100h",pDiagonal:"100d",pRx:.25,pLogoWidth:80}),sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&an(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=on(e);if(rn()){var r=on(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return en(this,t)});function a(){var t;Ze(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return cn(nn(t=i.call.apply(i,[this].concat(n))),"state",{prepared:!1,initialized:!1}),t}return n=a,(r=[{key:"render",value:function(){return this.state.prepared?h.createElement(d.ResponsiveWindow,null,h.createElement(d.ResponsiveElement,{roCreator:un,roResize:this.onResize},this.state.initialized?this.props.children:null)):null}},{key:"componentDidMount",value:function(){var t=this,e=this.context.settings,n=function(n){var r=n.pWidth,o=n.pHeight,i=n.pDiagonal,a=n.pRx,c=v.isSmallScreen(i),u=e.get("ContentKeysInterval");if(null===u){var s=c?23:16,l=c?30:29;u=e.set("ContentKeysInterval",new Fe(s,l),!0)}var f,h,y,p,d=u,b=d.from,m=d.to,g=d.length,w=Xe(c,r,o,a,g),k=Xe(c,r,o,a,8),S=w.numberOfVisibleKeys,E=(h=(f=w).pw,y=f.ph,p=f.numberOfPossiblyVisibleKeys,new $e(p,(function(t){return t*h}),(function(t){return t*y}))),O=(S-g)/2,C=new Fe(b-O,m+O);for(var A in c&&e.set("ContentKeysInterval",C,!0),e.set("NumberOfMinimumVisibleKeys",k.numberOfVisibleKeys),e.set("IsMobile",c),e.set("VisibleKeysInterval",C),e.set("Sizes",E),t.setState({initialized:!0}),E.paddings)n["pPadding"+A]=E.paddings[A]};this.onResize=function(e){t.resolvedRo=e,n(t.resolvedRo)},e.onChange((function(e){t.resolvedRo&&"ContentKeysInterval"===e&&n(t.resolvedRo)})),this.setState({prepared:!0})}}])&&tn(n.prototype,r),o&&tn(n,o),a}(h.Component);cn(sn,"contextType",$t);var ln=n(5),fn=n.n(ln),hn={lFooterHeight:"13R"},yn=function(){return h.createElement(d.ResponsiveElement,{className:fn.a.footer,roCreator:hn},h.createElement("span",null,"Copyright © ",(new Date).getFullYear()," A.Brill. All rights reserved."))},pn=n(1),dn=n.n(pn);function vn(t){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gn(t,e){return!e||"object"!==vn(e)&&"function"!=typeof e?wn(t):e}function wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function En(t,e){return(En=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function On(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&En(t,e)}(a,t);var e,n,r,o,i=(e=a,function(){var t,n=Sn(e);if(kn()){var r=Sn(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return gn(this,t)});function a(){var t;bn(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return On(wn(t=i.call.apply(i,[this].concat(n))),"state",{loaded:!1}),t}return n=a,(r=[{key:"render",value:function(){return this.state.loaded?h.createElement("div",{className:dn.a.content},this.props.children):h.createElement("div",{className:dn.a.container},h.createElement("div",{className:dn.a.loading},[1,2,3].map((function(t){return h.createElement("div",{key:t,className:dn.a.circleContainer},h.createElement("div",{className:dn.a.circle}))}))))}},{key:"componentDidMount",value:function(){var t=this;this.context.tones.initialize((function(){setTimeout((function(){return t.setState({loaded:!0})}),1e3)}))}}])&&mn(n.prototype,r),o&&mn(n,o),a}(h.Component);On(Cn,"contextType",$t);n(6);var An=function(){return h.createElement(Jt,null,h.createElement(sn,null,h.createElement(w,null),h.createElement(Cn,null,h.createElement(We,null),h.createElement(yn,null))))};!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";y.render(h.createElement(An,null),document.getElementById(t))}()}]);